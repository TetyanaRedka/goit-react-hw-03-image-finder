{"version":3,"sources":["App.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","servises/Pixabay-api.js","components/Button/Button.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","url","largeImageURL","onClick","src","alt","ImageGalleryItemImage","ImageGallery","arrImages","map","id","webformatURL","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleClick","window","addEventListener","removeEventListener","createPortal","ModalBackdrop","ModalContent","children","fetchData","searchQuery","currentPage","pageSize","fetch","then","response","json","data","hits","Button","App","images","isLoading","showModal","largeimage","onChangeQuery","fetchImage","options","PixabayApi","prevState","finally","scrollTo","top","documentElement","scrollHeight","behavior","openModal","console","log","closeModal","prevProps","length","loader","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bfd3909e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3fQbW\",\"loader\":\"App_loader__3tw4B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__13OGp\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2tTCz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ModalBackdrop\":\"Modal_ModalBackdrop__1kgG8\",\"ModalContent\":\"Modal_ModalContent__LOyhK\",\"Overlay\":\"Modal_Overlay__1alZB\",\"Modal\":\"Modal_Modal__1E-GG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__vdFPg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__6kpzF\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ url, largeImageURL, onClick }) => {\r\n  return (\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img src={url} alt=\"\" className={styles.ImageGalleryItemImage} onClick={e => onClick(largeImageURL)} />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  url: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './ImageGallery.module.css';\r\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\n\r\nconst ImageGallery = ({ arrImages, onClick }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {arrImages.map(({ id, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem key={id} url={webformatURL} largeImageURL={largeImageURL} onClick={onClick} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  arrImages: PropTypes.array.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleClick = () => {\r\n    this.props.onClose();\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={styles.ModalBackdrop} onClick={this.handleClick}>\r\n        <div className={styles.ModalContent}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n","const fetchData = {\r\n  url: 'https://pixabay.com/api/',\r\n  key: '20710972-75b99232bccd614faaca28eeb',\r\n};\r\n\r\nconst fetchPixabay = ({ searchQuery = '', currentPage = 1, pageSize = 12 }) => {\r\n  return fetch(`${fetchData.url}?key=${fetchData.key}&q=${searchQuery}&page=${currentPage}&image_type=photo&per_page=${pageSize}`)\r\n    .then(response => response.json())\r\n    .then(data => data.hits);\r\n};\r\n\r\nexport default { fetchPixabay };\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" className={styles.Button} onClick={onClick}>\r\n      загрузить еще\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","// import './App.css';\nimport React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport styles from './App.module.css';\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Modal from './components/Modal/Modal';\n\nimport PixabayApi from './servises/Pixabay-api';\nimport Button from './components/Button/Button';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    showModal: false,\n    largeimage: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImage();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      images: [],\n      currentPage: 1,\n      searchQuery: query,\n    });\n  };\n\n  fetchImage = () => {\n    const { currentPage, searchQuery } = this.state;\n\n    const options = {\n      searchQuery,\n      currentPage,\n    };\n\n    this.setState({ isLoading: true });\n\n    PixabayApi.fetchPixabay(options)\n      .then(arrImages =>\n        this.setState(prevState => ({\n          images: [...prevState.images, ...arrImages],\n          currentPage: prevState.currentPage + 1,\n        })),\n      )\n      .finally(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n\n        this.setState({ isLoading: false });\n      });\n  };\n\n  openModal = url => {\n    console.log(url);\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n      largeimage: url,\n    }));\n  };\n\n  closeModal = () => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n      largeimage: null,\n    }));\n  };\n\n  render() {\n    const { images, isLoading, showModal, largeimage } = this.state;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.onChangeQuery} />\n\n        <ImageGallery arrImages={images} onClick={this.openModal} />\n\n        {images.length > 0 && <Button onClick={this.fetchImage} />}\n\n        {isLoading && (\n          <Loader type=\"Circles\" className={styles.loader} color=\"#00BFFF\" height={100} width={100} timeout={3000} /> //3 secs\n        )}\n\n        {showModal && largeimage && (\n          <Modal onClose={this.closeModal}>\n            <img src={largeimage} height=\"100%\" width=\"100%\" alt=\"\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2Gilg\",\"SearchForm\":\"Searchbar_SearchForm__18XBW\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3dhVG\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1pNaz\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1Ldd2\"};"],"sourceRoot":""}